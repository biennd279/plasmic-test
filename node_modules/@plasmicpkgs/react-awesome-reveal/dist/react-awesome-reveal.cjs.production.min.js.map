{"version":3,"file":"react-awesome-reveal.cjs.production.min.js","sources":["../src/index.tsx"],"sourcesContent":["import registerComponent, {\n  ComponentMeta,\n} from \"@plasmicapp/host/registerComponent\";\nimport React from \"react\";\nimport {\n  Bounce,\n  Fade,\n  Flip,\n  Hinge,\n  JackInTheBox,\n  Roll,\n  Rotate,\n  Slide,\n  Zoom,\n} from \"react-awesome-reveal\";\n\nconst effectNameToComponent = {\n  bounce: Bounce,\n  fade: Fade,\n  flip: Flip,\n  hinge: Hinge,\n  jackinthebox: JackInTheBox,\n  roll: Roll,\n  rotate: Rotate,\n  slide: Slide,\n  zoom: Zoom,\n} as const;\n\ntype Effect = keyof typeof effectNameToComponent;\n\nconst effects = Object.keys(effectNameToComponent);\n\nexport interface RevealProps extends React.ComponentProps<typeof Fade> {\n  className?: string;\n  effect?: Effect;\n  children?: React.ReactNode;\n}\n\nexport function Reveal({ effect = \"fade\", className, ...props }: RevealProps) {\n  const Comp = effectNameToComponent[effect] as any;\n  if (!Comp) {\n    throw new Error(`Please specify a valid effect: ${effects.join(\", \")}`);\n  }\n  // Rendering plain strings seems to result in an infinite loop from\n  // \"react-awesome-reveal\" (except for when `cascading` is set).\n  // So we create a wrapper `div`.\n  const children =\n    props.cascade ||\n    ![\"string\", \"number\", \"boolean\"].includes(typeof props.children) ? (\n      props.children\n    ) : (\n      <div> {props.children} </div>\n    );\n  return <Comp className={className} {...props} children={children} />;\n}\n\nexport const revealMeta: ComponentMeta<RevealProps> = {\n  name: \"hostless-reveal\",\n  importName: \"Reveal\",\n  displayName: \"Reveal\",\n  importPath: \"@plasmicpkgs/react-awesome-reveal\",\n  isAttachment: true,\n  props: {\n    big: {\n      type: \"boolean\",\n      displayName: \"Big\",\n      description: `Causes the animation to start farther`,\n      hidden: (props) =>\n        (props.effect || \"fade\") !== \"fade\" ||\n        ![\"down\", \"left\", \"up\", \"right\"].includes(props.direction as string),\n    },\n    cascade: {\n      type: \"boolean\",\n      displayName: \"Cascade\",\n      description: \"Stagger its children animations\",\n    },\n    children: {\n      type: \"slot\",\n      defaultValue: [\n        {\n          type: \"img\",\n          src: \"https://placekitten.com/300/200\",\n        },\n      ],\n    },\n    damping: {\n      type: \"number\",\n      displayName: \"Damping\",\n      description:\n        \"Factor that affects the delay that each animated element in a cascade animation will be assigned\",\n      defaultValueHint: 0.5,\n    },\n    delay: {\n      type: \"number\",\n      displayName: \"Delay\",\n      description: \"Initial delay, in milliseconds\",\n      defaultValueHint: 0,\n    },\n    direction: {\n      type: \"choice\",\n      options: (props) => {\n        const effect = props.effect || \"fade\";\n        const maybeAddOptions = (effects: Effect[], options: string[]) =>\n          effects.includes(effect) ? options : [];\n        return ([] as string[])\n          .concat(maybeAddOptions([\"flip\"], [\"horizontal\", \"vertical\"]))\n          .concat(\n            maybeAddOptions(\n              [\"bounce\", \"fade\", \"slide\", \"zoom\"],\n              [\"down\", \"left\", \"right\", \"up\"]\n            )\n          )\n          .concat(\n            maybeAddOptions(\n              [\"fade\", \"rotate\"],\n              [\"bottom-left\", \"bottom-right\", \"top-left\", \"top-right\"]\n            )\n          );\n      },\n      hidden: (props) => {\n        const effect = props.effect || \"fade\";\n        return [\"hinge\", \"jackinthebox\", \"roll\"].includes(effect);\n      },\n      displayName: \"Direction\",\n      description:\n        \"Origin of the animation (the valid values depend on the chosen Effect)\",\n    },\n    duration: {\n      type: \"number\",\n      displayName: \"Duration\",\n      description: \"Animation duration, in milliseconds\",\n      defaultValueHint: 1000,\n    },\n    effect: {\n      type: \"choice\",\n      options: effects.map((v) => v),\n      displayName: \"Effect\",\n      description: \"The Reveal animation effect to be applied\",\n      defaultValueHint: \"fade\",\n    },\n    // `fraction` seems not to be working properly as of `react-awesome-reveal@3.8.1`\n    /* fraction: {\n      type: \"number\",\n      displayName: \"Fraction\",\n      description:\n        \"Float number between 0 and 1 indicating how much the element should be in viewport before the animation is triggered\",\n    }, */\n    reverse: {\n      type: \"boolean\",\n      displayName: \"Reverse\",\n      description: `Whether the animation should make element(s) disappear`,\n      hidden: (props) =>\n        [\"hinge\", \"jackinthebox\"].includes(props.effect || \"fade\"),\n    },\n    triggerOnce: {\n      type: \"boolean\",\n      displayName: \"Trigger Once\",\n      description:\n        \"Whether the animation should run only once, instead of everytime the element enters, exits and re-enters the viewport\",\n      // Some effects don't work correctly when `false`\n      defaultValue: true,\n    },\n  },\n};\n\nexport function registerReveal(\n  loader?: { registerComponent: typeof registerComponent },\n  customRevealMeta?: ComponentMeta<RevealProps>\n) {\n  if (loader) {\n    loader.registerComponent(Reveal, customRevealMeta ?? revealMeta);\n  } else {\n    registerComponent(Reveal, customRevealMeta ?? revealMeta);\n  }\n}\n"],"names":["effectNameToComponent","bounce","Bounce","fade","Fade","flip","Flip","hinge","Hinge","jackinthebox","JackInTheBox","roll","Roll","rotate","Rotate","slide","Slide","zoom","Zoom","effects","Object","keys","Reveal","_ref","effect","_ref$effect","className","props","_objectWithoutPropertiesLoose","_excluded","Comp","Error","join","children","cascade","includes","React","revealMeta","name","importName","displayName","importPath","isAttachment","big","type","description","hidden","direction","defaultValue","src","damping","defaultValueHint","delay","options","maybeAddOptions","concat","duration","map","v","reverse","triggerOnce","loader","customRevealMeta","registerComponent"],"mappings":"kRAgBMA,EAAwB,CAC5BC,OAAQC,SACRC,KAAMC,OACNC,KAAMC,OACNC,MAAOC,QACPC,aAAcC,eACdC,KAAMC,OACNC,OAAQC,SACRC,MAAOC,QACPC,KAAMC,QAKFC,EAAUC,OAAOC,KAAKrB,YAQZsB,EAAMC,WAAGC,OAAAA,WAAMC,EAAG,OAAMA,EAAEC,EAASH,EAATG,UAAcC,6IAAKC,CAAAL,EAAAM,GACrDC,EAAO9B,EAAsBwB,GACnC,IAAKM,EACH,MAAM,IAAIC,wCAAwCZ,EAAQa,KAAK,OAKjE,IAAMC,EACJN,EAAMO,UACL,CAAC,SAAU,SAAU,WAAWC,gBAAgBR,EAAMM,UACrDN,EAAMM,SAENG,+BAAOT,EAAMM,cAEjB,OAAOG,gBAACN,iBAAKJ,UAAWA,GAAeC,GAAOM,SAAUA,SAG7CI,EAAyC,CACpDC,KAAM,kBACNC,WAAY,SACZC,YAAa,SACbC,WAAY,oCACZC,cAAc,EACdf,MAAO,CACLgB,IAAK,CACHC,KAAM,UACNJ,YAAa,MACbK,oDACAC,OAAQ,SAACnB,GAAK,MACiB,UAA5BA,EAAMH,QAAU,UAChB,CAAC,OAAQ,OAAQ,KAAM,SAASW,SAASR,EAAMoB,aAEpDb,QAAS,CACPU,KAAM,UACNJ,YAAa,UACbK,YAAa,mCAEfZ,SAAU,CACRW,KAAM,OACNI,aAAc,CACZ,CACEJ,KAAM,MACNK,IAAK,qCAIXC,QAAS,CACPN,KAAM,SACNJ,YAAa,UACbK,YACE,mGACFM,iBAAkB,IAEpBC,MAAO,CACLR,KAAM,SACNJ,YAAa,QACbK,YAAa,iCACbM,iBAAkB,GAEpBJ,UAAW,CACTH,KAAM,SACNS,QAAS,SAAC1B,GACR,IAAMH,EAASG,EAAMH,QAAU,OACzB8B,EAAkB,SAACnC,EAAmBkC,GAAiB,OAC3DlC,EAAQgB,SAASX,GAAU6B,EAAU,IACvC,MAAQ,GACLE,OAAOD,EAAgB,CAAC,QAAS,CAAC,aAAc,cAChDC,OACCD,EACE,CAAC,SAAU,OAAQ,QAAS,QAC5B,CAAC,OAAQ,OAAQ,QAAS,QAG7BC,OACCD,EACE,CAAC,OAAQ,UACT,CAAC,cAAe,eAAgB,WAAY,gBAIpDR,OAAQ,SAACnB,GAEP,MAAO,CAAC,QAAS,eAAgB,QAAQQ,SAD1BR,EAAMH,QAAU,SAGjCgB,YAAa,YACbK,YACE,0EAEJW,SAAU,CACRZ,KAAM,SACNJ,YAAa,WACbK,YAAa,sCACbM,iBAAkB,KAEpB3B,OAAQ,CACNoB,KAAM,SACNS,QAASlC,EAAQsC,KAAI,SAACC,GAAC,OAAKA,KAC5BlB,YAAa,SACbK,YAAa,4CACbM,iBAAkB,QASpBQ,QAAS,CACPf,KAAM,UACNJ,YAAa,UACbK,qEACAC,OAAQ,SAACnB,GAAK,MACZ,CAAC,QAAS,gBAAgBQ,SAASR,EAAMH,QAAU,UAEvDoC,YAAa,CACXhB,KAAM,UACNJ,YAAa,eACbK,YACE,wHAEFG,cAAc,sDAMlBa,EACAC,GAEID,EACFA,EAAOE,kBAAkBzC,QAAQwC,EAAAA,EAAoBzB,GAErD0B,EAAkBzC,QAAQwC,EAAAA,EAAoBzB"}